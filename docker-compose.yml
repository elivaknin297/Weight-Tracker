version: "3"

volumes:
  mongo-data: 
    driver: local
  mysql-data:
    driver: local
services:
       weight-tracker:
           container_name: weight-tracker
           image: elivaknin297/weight-tracker
           restart: always
           build: .
           ports:
             - "3001:3001"
           links: 
             - mongo
             - mysql
       mongo:
             container_name: mongo
             image: mongo
             volumes:
               - ./data:/data/db
             ports:
               - '27017:27017'

       mysql:
        image: mysql:8.0.3
        ports:
          - 3306:3306
        volumes:
          - "mysql-data:/var/lib/mysql"
        environment:
          - MYSQL_ROOT_PASSWORD=yourStrong(!)Password
          - MYSQL_DATABASE=weight-tracker
          - MYSQL_USER=eli
          - MYSQL_PASSWORD=123456
